
#include "IBK_Path.h"

#include "VICUS_Network.h"
#include "VICUS_NetworkFluid.h"


int main() {


	VICUS::Network net = VICUS::Network();


	bool connected;

	net.readGridFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/layers/Netz.csv"));

	net.setSource(481692.800107041, 5577526.14340303);

	net.generateIntersections();

	net.readBuildingsFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/b_3.6kw.csv"), 3600);
	net.readBuildingsFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/b_4.8kw.csv"), 4800);
	net.readBuildingsFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/b_6kw.csv"), 6000);
	net.readBuildingsFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/b_21.6kw.csv"), 21600);
	net.readBuildingsFromCSV(IBK::Path("C:/Daten/Promotion/QGIS/b_28.8kw.csv"), 28800);

	net.connectBuildings(false);

	net.calculateLengths();

	VICUS::Network netRed = VICUS::Network();
	net.networkWithReducedEdges(netRed);

	VICUS::Network netClean = VICUS::Network();
	netRed.networkWithoutDeadEnds(netClean, 500);


	// jetzt gibt es ein zusammenhängendes Netzwerk mit Edges, die Längen aber noch keinen Durchmesser haben
	
}